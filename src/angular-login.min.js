"use strict";var loginControllers=angular.module("loginControllers",["loginServices"]);loginControllers.controller("SignoutCtrl",["$scope","Auth","$location","Config",function(a,b,c,d){a.a=function(){b.b(),c.path(d.d().c)}}]),loginControllers.controller("SigninCtrl",["$scope","Auth","Token","RedirectToAttemptUrl",function(a,b,c,d){a.e="",a.f={g:"",h:""},a.i=function(){var e=function(b){a.e=b};c.j(a.f.g,a.f.h).then(function(a){b.k(a)}).then(function(){e("")}).then(function(){d.l()})["catch"](function(){e("Username/password combination provided is incorrect")})}}]);var loginMain=angular.module("loginMain",["loginControllers","loginServices"]),loginServices=angular.module("loginServices",["ngStorage","angular-jwt"]);loginServices.service("Config",[function(){this.m={n:"http://localhost:8080/api/token",c:"/login"},this.o=function(a,b){this.m.n=a,this.m.c=b},this.d=function(){return this.m}}]),loginServices.service("Storage",["$sessionStorage",function(a){this.p=function(){return a.q||""},this.r=function(b){a.q=b},this.s=function(){a.q&&delete a.q}}]),loginServices.service("Token",["$http","$q","Config",function(a,b,c){this.j=function(d,e){var f=b.defer();return a.post(c.d().n,{t:d,u:e}).then(function(a){f.resolve(a.data.q)})["catch"](function(){f.reject("")}),f.promise}}]),loginServices.service("RedirectToAttemptUrl",["$location","Config",function(a,b){this.v={w:"/"},this.l=function(){a.path(this.v.w)},this.x=function(){b.d().c.toLowerCase()!=a.path().toLowerCase()&&(this.v.w=a.path())}}]),loginServices.service("Auth",["Storage","jwtHelper",function(a,b){this.y=function(){return!!a.p()},this.k=function(b){a.r(b)},this.b=function(){a.s()},this.z=function(){return this.y()?b.decodeToken(a.p()).unique_name:void 0}}]),loginServices.service("RequestInterceptor",["Storage","$q","$location","Config","RedirectToAttemptUrl",function(a,b,c,d,e){this.A=function(b){var c=a.p();return b.B=b.B||{},c&&(b.B.C=c),b},this.D=function(a){return 401==a.status&&(e.x(),c.path(d.d().c)),b.reject(a)}}]);